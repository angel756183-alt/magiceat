<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>餐點即將封印解除</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="午餐魔法師">
  <link rel="manifest" href="data:application/manifest+json,{"name":"午餐魔法師","short_name":"吃啥","icons":[{"src":"magiceat-icon.png","sizes":"192x192","type":"image/png"},{"src":"magiceat-icon.png","sizes":"512x512","type":"image/png"}],"start_url":"lunch.html","display":"standalone","background_color":"#24006d","theme_color":"#8b3dff"}">
  <link rel="apple-touch-icon" href="magiceat-icon.png">
  <style>
    body{margin:0;font-family:-apple-system;background:linear-gradient(135deg,#24006d,#1e0541);min-height:100dvh;display:flex;justify-content:center;align-items:center;color:#fff;overflow:hidden}
    .c{background:rgba(255,255,255,0.97);border-radius:32px;box-shadow:0 30px 80px rgba(0,0,0,0.7);max-width:480px;width:92%;padding:50px 35px;text-align:center;position:relative;overflow:hidden}
    h1{font-size:2.5em;margin:0 0 8px;background:linear-gradient(135deg,#ff9d6c,#bb86fc);-webkit-background-clip:text;color:transparent;font-weight:900}
    .subtitle{font-size:1.2em;color:#888;margin-bottom:30px}

    /* 兩個大按鈕 */
    .area-buttons{margin:40px 0 20px;display:flex;flex-direction:column;gap:20px}
    .area-btn{
      padding:22px;font-size:1.5em;font-weight:bold;border-radius:24px;
      border:none;cursor:pointer;transition:all .3s;box-shadow:0 12px 30px rgba(0,0,0,0.3);
      background:linear-gradient(135deg,#bb86fc,#9b6fe6);
      color:#fff;position:relative;overflow:hidden
    }
    .area-btn::after{
      content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);
      transform:translateX(-100%);transition:transform .6s
    }
    .area-btn:active::after{transform:translateX(100%)}
    .area-btn.active{background:linear-gradient(135deg,#8b3dff,#c05eff);transform:scale(1.03);box-shadow:0 20px 40px rgba(139,61,255,0.5)}

    .dice{font-size:6em;margin:30px 0;animation:f 3s ease-in-out infinite}
    @keyframes f{50%{transform:translateY(-25px)}}
    
    button.main-btn{
      background:linear-gradient(135deg,#ff6b6b,#ffa500);color:#fff;border:none;padding:22px;
      font-size:1.6em;border-radius:50px;cursor:pointer;width:100%;margin:20px 0;
      box-shadow:0 15px 40px rgba(255,107,107,0.5);font-weight:bold
    }
    button.main-btn:active{transform:scale(.96)}

    .r{display:none;margin-top:30px;animation:s .6s}.r.show{display:block}
    @keyframes s{from{opacity:0;transform:translateY(30px)}}
    .b{background:linear-gradient(135deg,#e6d9ff,#c8b3ff);padding:25px;border-radius:25px;margin:18px 0;box-shadow:0 10px 30px rgba(139,61,255,.25)}
    .n{font-size:2em;font-weight:bold;color:#4a148c;margin-bottom:8px}
    .a{font-size:1.1em;color:#6a1b9a;margin:10px 0;word-break:break-all}
    .p{font-size:1.8em;color:#8b3dff;font-weight:bold}
    .t{background:linear-gradient(135deg,#7e57c2,#512da8);color:#fff;padding:28px;border-radius:25px;
      margin-top:30px;font-size:2.6em;font-weight:bold}
    .g{margin-top:30px;display:grid;gap:15px}
    .g button{font-size:1.2em;padding:18px;border-radius:20px}

    .s{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1}
    .s div{position:absolute;width:8px;height:8px;background:#e0d9ff;border-radius:50%;opacity:0;animation:k 2.5s infinite}
    @keyframes k{50%{opacity:1;transform:scale(1.5)}}
  </style>
</head>
<body>
  <div class="s" id="s"></div>
  <div class="c">
    <h1>餐點即將封印解除</h1>
    <p class="subtitle">讓魔法師幫你決定今天吃什麼</p>

    <div class="area-buttons">
      <button class="area-btn active" onclick="setArea('local')">
        前往善化新市區施展魔法
      </button>
      <button class="area-btn" onclick="setArea('other')">
        前往什麼地區冒險
      </button>
    </div>

    <div class="dice">Sparkles</div>
    <button class="main-btn" onclick="go()">解除封印</button>

    <div class="r" id="r">
      <div class="b"><h3>午餐</h3>
        <div class="n" id="ln"></div>
        <div class="a" id="la"></div>
        <div class="p">$<span id="lp"></span></div>
      </div>
      <div class="b"><h3>飲料</h3>
        <div class="n" id="dn"></div>
        <div class="a" id="da"></div>
        <div class="p">$<span id="dp"></span></div>
      </div>
      <div class="t">$<span id="total">0</span></div>
      <div class="g">
        <button onclick="copy()">複製結果</button>
        <button style="background:#fff;color:#8b3dff;border:4px solid #8b3dff;font-weight:bold" onclick="go()">再一次</button>
      </div>
    </div>
  </div>

<script>
// 第一類：善化新市區
const localFood = [
  {name: '好口味粥', price: 80, address: '台南市新市區中興路136號'},
  {name: '粥全', price: 75, address: '台南市善化區中山路177號'},
  {name: '麵兒見', price: 85, address: '台南市新市區信義路106號'},
  {name: '八方雲集', price: 70, address: '台南市善化區大成路238號'},
  {name: '必勝客', price: 150, address: '台南市新市區中山路188號'},
  {name: '麥當勞', price: 120, address: '台南市善化區中山路306號'},
  {name: '肯德基', price: 130, address: '台南市新市區中華路35號'},
  {name: '梁社漢便當', price: 85, address: '台南市新市區復興路58號'},
  {name: '港口土魠魚羹', price: 90, address: '台南市善化區中山路150號'},
  {name: '丹丹漢堡', price: 85, address: '台南市新市區中正路188號'},
  {name: '玉禾田越南料理', price: 100, address: '台南市善化區中山路46號'},
  {name: '元爵味黃燜雞', price: 95, address: '台南市新市區復興路58號'},
  {name: '新市成功牛排', price: 150, address: '台南市新市區中山路219-1號'},
  {name: '小平 正宗火雞肉飯', price: 70, address: '台南市新市區中山路135號'},
  {name: '藝鍋物', price: 200, address: '台南市新市區富強路6號'},
  {name: '九鼎林豐', price: 120, address: '台南市善化區中華路172號'},
  {name: '大埔鐵板燒', price: 150, address: '台南市新市區民生路72號'},
  {name: '漢堡王', price: 120, address: '台南市新市區光明街136號'},
  {name: '達美樂', price: 180, address: '台南市善化區中山路281-1號'},
  {name: '阿珠姨滷肉飯', price: 60, address: '台南市善化區文昌路8-7號'},
  {name: '八方緣', price: 80, address: '台南市善化區中山路312號'},
  {name: '老泉城黃燜雞米飯（台南新市店）', price: 95, address: '台南市新市區復興路58號'},
  {name: '皇聖食堂', price: 85, address: '台南市新市區復興路27號'},
  {name: '麻小二', price: 90, address: '台南市新市區華興街120號'}
];

const localDrink = [
  {name: '可不可', price: 45, address: '台南市新市區中正路194號'},
  {name: '龜記', price: 35, address: '台南市善化區中山路200號'},
  {name: '迷克夏', price: 40, address: '台南市新市區中山路160號'},
  {name: '紅茶巴士', price: 30, address: '台南市新市區華興街18號'},
  {name: '春芳號', price: 40, address: '台南市新市區華興街66號'},
  {name: '萬波', price: 45, address: '台南市善化區大成路188號'},
  {name: '青山', price: 50, address: '台南市新市區民生路7號'},
  {name: '鶴茶樓', price: 45, address: '台南市新市區信義街19-2號'},
  {name: '春宅', price: 40, address: '台南市新市區中興街64號'},
  {name: '烏弄', price: 45, address: '台南市新市區信義街19-1號'},
  {name: '五桐號', price: 40, address: '台南市新市區華興街10號'},
  {name: '雙十八木', price: 50, address: '台南市新市區民權路88號'},
  {name: '一沐日', price: 45, address: '台南市新市區華興街102號'},
  {name: '得正', price: 35, address: '台南市新市區民生路7號'},
  {name: '茶湯會', price: 40, address: '台南市新市區仁愛街300號'},
  {name: '大茗', price: 35, address: '台南市新市區中正路89號'},
  {name: '先喝道', price: 40, address: '台南市新市區民生路69-1號'},
  {name: '水雲朵', price: 45, address: '台南市新市區中山路160號'},
  {name: '老賴', price: 35, address: '台南市新市區華興街18號'},
  {name: 'Tea Top第一味', price: 35, address: '台南市新市區華興街66號'},
  {name: '鮮茶道', price: 35, address: '台南市新市區華興街66號'},
  {name: '角鋪', price: 40, address: '台南市新市區銘傳街116號'},
  {name: '水巷茶弄', price: 40, address: '台南市新市區中正路31號'},
  {name: '麻古', price: 50, address: '台南市新市區中正路194號'},
  {name: '三分春色', price: 45, address: '台南市新市區光華街151號'},
  {name: '慕春職人', price: 45, address: '台南市新市區華興街3號'},
  {name: '米里米里', price: 40, address: '台南市新市區華興街10號'},
  {name: '穆納', price: 45, address: '台南市新市區信義街167號'},
  {name: '御私藏', price: 40, address: '台南市新市區中正路31號'},
  {name: 'coco都可', price: 35, address: '台南市新市區復興路187號'},
  {name: '銀兩', price: 45, address: '台南市新市區民權路57號'},
  {name: '幕和茶屋', price: 50, address: '台南市新市區中山路253-1號'},
  {name: 'Nanafru', price: 55, address: '台南市新市區中山路310-1號'},
  {name: '紅太陽', price: 30, address: '台南市新市區中興街160號'},
  {name: '白巷子', price: 45, address: '台南市新市區民生路66號'},
  {name: '鮮自然', price: 35, address: '台南市新市區民權路3號'}
];

// 第二類：其他區域（王品集團＋觀光客必吃＋高評價）
const otherFood = [
  {name: '王品牛排 (永康店)', price: 1200, address: '台南市永康區永大路二段1號'},
  {name: '陶板屋 (永康店)', price: 600, address: '台南市永康區永大路二段1號2樓'},
  {name: '西堤牛排 (東區店)', price: 800, address: '台南市東區中華東路三段360號'},
  {name: '夏慕尼 (中西區店)', price: 900, address: '台南市中西區西門路一段658號6樓'},
  {name: '石二鍋 (多分店)', price: 350, address: '台南市北區和緯路三段150號'},
  {name: '藏壽司 (永康店)', price: 200, address: '台南市永康區永大路三段500號'},
  {name: '壽司郎 (安平店)', price: 180, address: '台南市安平區慶平路573號'},
  {name: '丸龜製麵 (南紡店)', price: 150, address: '台南市東區中華東路三段366號'},
  {name: '阿憨鹹粥', price: 100, address: '台南市中西區海安路一段45號'},
  {name: '文章牛肉湯', price: 180, address: '台南市安平區安北路148號'},
  {name: '阿村牛肉湯', price: 150, address: '台南市中西區民族路二段131號'},
  {name: '周氏蝦卷', price: 120, address: '台南市中西區國華街三段16號'},
  {name: '富盛號碗粿', price: 50, address: '台南市中西區民權路二段92號'},
  {name: '葉家小卷米粉', price: 70, address: '台南市中西區國華街三段142號'},
  {name: '同記安平豆花', price: 50, address: '台南市安平區安平路600號'},
  {name: '蜷尾家散步甜點', price: 100, address: '台南市安平區安北路112號'},
  {name: '矮仔成蝦仁飯', price: 80, address: '台南市中西區民族路二段290號'},
  {name: '集品蝦仁飯', price: 80, address: '台南市中西區西門路一段728號'},
  {name: '福記肉圓', price: 50, address: '台南市中西區國華街三段5號'},
  {name: '阿明豬心', price: 150, address: '台南市中西區西門路一段658號'},
  {name: '阿龍香腸熟肉', price: 60, address: '台南市東區崇德路780號'},
  {name: '莉莉水果店', price: 120, address: '台南市中西區正興街92號'}
];

const otherDrink = [
  {name: '蜷尾家冰茶', price: 60, address: '台南市安平區安北路112號'},
  {name: '春芳號', price: 40, address: '台南市中西區中山路8巷5號'},
  {name: '青蛙黑蛋奶', price: 60, address: '台南市安平區古堡街57號'},
  {name: '杜芳子古味茶鋪', price: 100, address: '台南市永康區大灣路679號'},
  {name: '南泉冰菓室', price: 40, address: '台南市安平區安平路600號'},
  {name: '椿之味', price: 60, address: '台南市東區中華東路三段366號南紡2樓'},
  {name: '白巷子 (安平店)', price: 45, address: '台南市安平區安平路163號'},
  {name: '總裁點點頭', price: 50, address: '台南市永康區新民街92號'},
  {name: '無飲', price: 55, address: '台南市永康區新民街92號'},
  {name: '鮮自然', price: 40, address: '台南市永康區中山路110號'},
  {name: '久御賞理想', price: 45, address: '台南市安南區安富街288號'},
  {name: '波哥茶飲', price: 35, address: '台南市安平區國泰街1號'},
  {name: '宣福居', price: 50, address: '台南市中西區中正路16號'},
  {name: '茶來茶去', price: 30, address: '台南市永康區中正路698號'},
  {name: '茶的魔手', price: 45, address: '台南市安南區安中路三段310號'},
  {name: '魔力牛牛排館飲料', price: 50, address: '台南市安南區海安路三段303號'},
  {name: '藏壽司飲料', price: 40, address: '台南市永康區永大路三段500號'},
  {name: '壽司郎飲料', price: 35, address: '台南市安平區慶平路573號'},
  {name: '丸龜製麵飲料', price: 30, address: '台南市東區中華東路三段366號'},
  {name: '雙全紅茶', price: 40, address: '台南市中西區中山路47號'},
  {name: '青山茶行', price: 50, address: '台南市中西區民生路二段117號'},
  {name: '藥師紅茶', price: 45, address: '台南市安南區安中路三段76號'},
  {name: '仙豆龍Q奶', price: 60, address: '台南市中西區中正路16號'},
  {name: '毛豆Q粿', price: 35, address: '台南市永康區復國一路88號'},
  {name: '糯夫米糕梅子綠', price: 50, address: '台南市安平區安平路163號'}
];

let currentArea = 'local'; // 預設善化新市區
let cur = null;

function setArea(area) {
  currentArea = area;
  document.querySelectorAll('.area-btn').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('r').classList.remove('show');
}

for(let i=0;i<35;i++){
  let s=document.createElement('div');
  s.style.left=Math.random()*100+'%';
  s.style.top=Math.random()*100+'%';
  s.style.animationDelay=Math.random()*2.5+'s';
  document.getElementById('s').appendChild(s);
}

function go(){
  const foodList = currentArea === 'local' ? localFood : otherFood;
  const drinkList = currentArea === 'local' ? localDrink : otherDrink;
  
  const l = foodList[Math.floor(Math.random()*foodList.length)];
  const d = drinkList[Math.floor(Math.random()*drinkList.length)];
  cur = {l, d};
  
  document.getElementById('ln').textContent = l.name;
  document.getElementById('la').textContent = l.address;
  document.getElementById('lp').textContent = l.price;
  
  document.getElementById('dn').textContent = d.name;
  document.getElementById('da').textContent = d.address;
  document.getElementById('dp').textContent = d.price;
  
  document.getElementById('total').textContent = l.price + d.price;
  
  const r = document.getElementById('r');
  r.classList.remove('show');
  setTimeout(()=>r.classList.add('show'),50);
  
  document.querySelector('.dice').textContent = 'Sparkles';
}

function copy(){
  const areaName = currentArea==='local' ? '善化新市區' : '異地冒險';
  const txt = `餐點即將封印解除 ✨\n\n【${areaName}】\n午餐：${cur.l.name}\n${cur.l.address}\n$${cur.l.price}\n\n飲料：${cur.d.name}\n${cur.d.address}\n$${cur.d.price}\n\n總計：$${cur.l.price + cur.d.price}`;
  navigator.clipboard?.writeText(txt).then(()=>alert('已複製！'))||prompt('按 Ctrl+C 複製',txt);
}
</script>
</body>
</html>