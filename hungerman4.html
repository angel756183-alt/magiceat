<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>午餐魔法師</title>
  
  <!-- PWA 讓 iPhone 可以加到主畫面 -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="午餐魔法師">
  <meta name="theme-color" content="#8b3dff">

  <style>
    body{margin:0;font-family:-apple-system;background:linear-gradient(135deg,#24006d,#1e0541);min-height:100dvh;color:#fff;overflow-y:scroll;-webkit-overflow-scrolling:touch;padding:20px 0}
    .c{background:rgba(255,255,255,0.97);border-radius:32px;box-shadow:0 30px 80px rgba(0,0,0,0.7);max-width:480px;width:92%;margin:0 auto;padding:50px 35px 80px;text-align:center;position:relative;overflow:visible;color:#333}
    h1{font-size:2.5em;margin:0 0 8px;background:linear-gradient(135deg,#ff9d6c,#bb86fc);-webkit-background-clip:text;color:transparent;font-weight:900}
    .subtitle{font-size:1.2em;color:#888;margin-bottom:30px}

    /* 兩個區域按鈕顏色超明顯 */
    .area-buttons{margin:40px 0 20px;display:flex;flex-direction:column;gap:20px}
    .area-btn{padding:24px;font-size:1.55em;font-weight:bold;border-radius:28px;border:none;cursor:pointer;transition:all .35s;box-shadow:0 15px 35px rgba(0,0,0,0.4);position:relative;overflow:hidden}
    .local-btn{background:linear-gradient(135deg,#9c27b0,#e91e63);color:#fff}      /* 善化新市：紫粉色 */
    .other-btn{background:linear-gradient(135deg,#ff6b35,#f9ca24);color:#000}      /* 其他地區：橘黃色 */
    .area-btn.active{transform:scale(1.06);box-shadow:0 25px 50px rgba(0,0,0,0.6)}
    .area-btn::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);transform:translateX(-100%);transition:.7s}
    .area-btn:active::after{transform:translateX(100%)}

    /* 魔法特效取代原本問號位置（超炫！） */
    .magic{display:block;width:160px;height:160px;margin:35px auto;position:relative}
    .magic::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at center,#8b3dff 0%,transparent 70%);border-radius:50%;animation:pulse 2.5s infinite}
    .magic::after{content:'Sparkles';font-size:90px;animation:float 4s ease-in-out infinite}
    @keyframes pulse{0%,100%{transform:scale(0.8);opacity:0.7}50%{transform:scale(1.3);opacity:1}}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}

    button.main-btn{background:linear-gradient(135deg,#ff3b30,#ff9500);color:#fff;border:none;padding:24px;font-size:1.7em;border-radius:50px;cursor:pointer;width:100%;margin:20px 0;box-shadow:0 15px 40px rgba(255,59,48,0.6);font-weight:bold;transition:.3s}
    button.main-btn:active{transform:scale(.95)}

    .r{display:none;margin-top:30px;animation:s .6s}.r.show{display:block}
    @keyframes s{from{opacity:0;transform:translateY(30px)}}

    .b{background:linear-gradient(135deg,#e3f2fd,#bbdefb);padding:28px;border-radius:28px;margin:20px 0;box-shadow:0 12px 30px rgba(0,0,0,0.15)}
    .n{font-size:2.2em;font-weight:bold;color:#1976d2;margin-bottom:10px}
    .p{font-size:2em;color:#d32f2f;font-weight:bold;margin-top:8px}
    .t{background:linear-gradient(135deg,#7b1fa2,#9c27b0);color:#fff;padding:30px;border-radius:30px;margin-top:35px;font-size:2.8em;font-weight:bold}

    .g{margin-top:35px;display:grid;gap:15px}
    .g button{font-size:1.3em;padding:18px;border-radius:22px;border:none;cursor:pointer;font-weight:bold}
    .g button:first-child{background:#4caf50;color:#fff}
    .g button:last-child{background:#fff;color:#8b3dff;border:5px solid #8b3dff}

    .s{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1}
    .s div{position:absolute;width:8px;height:8px;background:#e0d9ff;border-radius:50%;opacity:0;animation:k 2.5s infinite}
    @keyframes k{50%{opacity:1;transform:scale(1.5)}}
  </style>
</head>
<body>
  <div class="s" id="s"></div>
  <div class="c">
    <h1>餐點即將封印解除</h1>
    <p class="subtitle">讓魔法師幫你決定今天吃什麼</p>

    <div class="area-buttons">
      <button class="area-btn local-btn active" onclick="setArea('local')">前往善化新市區施展魔法</button>
      <button class="area-btn other-btn" onclick="setArea('other')">前往其他地區冒險</button>
    </div>

    <!-- 超炫魔法特效取代原本圖片/問號 -->
    <div class="magic"></div>

    <button class="main-btn" onclick="go()">解除封印</button>

    <div class="r" id="r">
      <div class="b"><h3>午餐</h3>
        <div class="n" id="ln"></div>
        <div class="p">$<span id="lp"></span></div>
      </div>
      <div class="b"><h3>飲料</h3>
        <div class="n" id="dn"></div>
        <div class="p">$<span id="dp"></span></div>
      </div>
      <div class="t">$<span id="total">0</span></div>
      <div class="g">
        <button onclick="copy()">複製結果</button>
        <button onclick="go()">再一次</button>
      </div>
    </div>
  </div>

<script>
// 小星星背景
for(let i=0;i<40;i++){
  let s=document.createElement('div');
  s.style.left=Math.random()*100+'%';
  s.style.top=Math.random()*100+'%';
  s.style.animationDelay=Math.random()*2.5+'s';
  document.getElementById('s').appendChild(s);
}

// 店家資料（已刪除所有 address）
const localFood = [
  {name:"好口味粥",price:80},{name:"粥全",price:75},{name:"麵兒見",price:85},{name:"八方雲集",price:70},
  {name:"必勝客",price:150},{name:"麥當勞",price:120},{name:"肯德基",price:130},{name:"梁社漢便當",price:85},
  {name:"港口土魠魚羹",price:90},{name:"丹丹漢堡",price:85},{name:"玉禾田越南料理",price:100},{name:"元爵味黃燜雞",price:95},
  {name:"新市成功牛排",price:150},{name:"小平 正宗火雞肉飯",price:70},{name:"藝鍋物",price:200},{name:"九鼎林豐",price:120},
  {name:"大埔鐵板燒",price:150},{name:"漢堡王",price:120},{name:"達美樂",price:180},{name:"阿珠姨滷肉飯",price:60},
  {name:"八方緣",price:80},{name:"老泉城黃燜雞米飯",price:95},{name:"皇聖食堂",price:85},{name:"麻小二",price:90}
];
const localDrink = [
  {name:"可不可",price:45},{name:"龜記",price:35},{name:"迷克夏",price:40},{name:"紅茶巴士",price:30},
  {name:"春芳號",price:40},{name:"萬波",price:45},{name:"青山",price:50},{name:"鶴茶樓",price:45},
  {name:"春宅",price:40},{name:"烏弄",price:45},{name:"五桐號",price:40},{name:"雙十八木",price:50},
  {name:"一沐日",price:45},{name:"得正",price:35},{name:"茶湯會",price:40},{name:"大茗",price:35},
  {name:"先喝道",price:40},{name:"水雲朵",price:45},{name:"老賴",price:35},{name:"Tea Top第一味",price:35},
  {name:"鮮茶道",price:35},{name:"角鋪",price:40},{name:"水巷茶弄",price:40},{name:"麻古",price:50},
  {name:"三分春色",price:45},{name:"慕春職人",price:45},{name:"米里米里",price:40},{name:"穆納",price:45},
  {name:"御私藏",price:40},{name:"coco都可",price:35},{name:"銀兩",price:45},{name:"幕和茶屋",price:50},
  {name:"Nanafru",price:55},{name:"紅太陽",price:30},{name:"白巷子",price:45},{name:"鮮自然",price:35}
];
const otherFood = [
  {name:"王品牛排",price:1200},{name:"陶板屋",price:600},{name:"西堤牛排",price:800},{name:"夏慕尼",price:900},
  {name:"石二鍋",price:350},{name:"藏壽司",price:200},{name:"壽司郎",price:180},{name:"丸龜製麵",price:150},
  {name:"阿憨鹹粥",price:100},{name:"文章牛肉湯",price:180},{name:"阿村牛肉湯",price:150},{name:"周氏蝦卷",price:120},
  {name:"富盛號碗粿",price:50},{name:"葉家小卷米粉",price:70},{name:"同記安平豆花",price:50},{name:"蜷尾家",price:100},
  {name:"矮仔成蝦仁飯",price:80},{name:"集品蝦仁飯",price:80},{name:"福記肉圓",price:50},{name:"阿明豬心",price:150},
  {name:"阿龍香腸熟肉",price:60},{name:"莉莉水果店",price:120}
];
const otherDrink = [
  {name:"蜷尾家冰茶",price:60},{name:"春芳號",price:40},{name:"青蛙黑蛋奶",price:60},{name:"杜芳子",price:100},
  {name:"南泉冰菓室",price:40},{name:"椿之味",price:60},{name:"白巷子",price:45},{name:"總裁點點頭",price:50},
  {name:"無飲",price:55},{name:"鮮自然",price:40},{name:"久御賞理想",price:45},{name:"波哥茶飲",price:35},
  {name:"宣福居",price:50},{name:"茶來茶去",price:30},{name:"茶的魔手",price:45},{name:"藏壽司飲料",price:40},
  {name:"壽司郎飲料",price:35},{name:"丸龜製麵飲料",price:30},{name:"雙全紅茶",price:40},{name:"青山茶行",price:50},
  {name:"藥師紅茶",price:45},{name:"仙豆龍Q奶",price:60},{name:"毛豆Q粿",price:35},{name:"糯夫米糕梅子綠",price:50}
];

let currentArea = 'local', cur = null;

function setArea(a){
  currentArea = a;
  document.querySelectorAll('.area-btn').forEach(b=>b.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('r').classList.remove('show');
}

function go(){
  const f = (currentArea==='local'?localFood:otherFood)[Math.floor(Math.random()*(currentArea==='local'?localFood:otherFood).length)];
  const d = (currentArea==='local'?localDrink:otherDrink)[Math.floor(Math.random()*(currentArea==='local'?localDrink:otherDrink).length)];
  cur = {l:f, d:d};
  document.getElementById('ln').textContent = f.name;
  document.getElementById('lp').textContent = f.price;
  document.getElementById('dn').textContent = d.name;
  document.getElementById('dp').textContent = d.price;
  document.getElementById('total').textContent = f.price + d.price;
  const r = document.getElementById('r');
  r.classList.remove('show');
  setTimeout(()=>r.classList.add('show'),50);
}

function copy(){
  const area = currentArea==='local'?'善化新市區':'其他地區冒險';
  const txt = `餐點即將封印解除\n\n【${area}】\n午餐：${cur.l.name} $${cur.l.price}\n飲料：${cur.d.name} $${cur.d.price}\n總計：$${cur.l.price+cur.d.price}`;
  navigator.clipboard?.writeText(txt).then(()=>alert('已複製！'))||prompt('按 Ctrl+C 複製',txt);
}
</script>
</body>
</html>