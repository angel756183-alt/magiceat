<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>餐點即將封印解除</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="午餐魔法師">
  <link rel="manifest" href="data:application/manifest+json,{"name":"午餐魔法師","short_name":"吃啥","icons":[{"src":"magiceat-icon.png","sizes":"192x192","type":"image/png"},{"src":"magiceat-icon.png","sizes":"512x512","type":"image/png"}],"start_url":"lunch.html","display":"standalone","background_color":"#24006d","theme_color":"#8b3dff"}">
  <link rel="apple-touch-icon" href="magiceat-icon.png">
  <style>
    body{margin:0;font-family:-apple-system;background:linear-gradient(135deg,#24006d,#1e0541);min-height:100dvh;display:flex;justify-content:center;align-items:center;color:#fff}
    .c{background:rgba(255,255,255,0.97);border-radius:28px;box-shadow:0 25px 70px rgba(0,0,0,0.6);max-width:460px;width:90%;padding:40px 30px;text-align:center;overflow:hidden}
    h1{font-size:2.2em;margin:0;background:linear-gradient(135deg,#ff9d6c,#bb86fc);-webkit-background-clip:text;color:transparent}
    .dice{font-size:5.5em;margin:35px 0;animation:f 3s ease-in-out infinite}
    @keyframes f{50%{transform:translateY(-20px)}}
    button{background:linear-gradient(135deg,#8b3dff,#c05eff);color:#fff;border:none;padding:20px 40px;font-size:1.4em;border-radius:50px;cursor:pointer;width:100%;margin:15px 0;box-shadow:0 12px 35px rgba(139,61,255,.5)}
    button:active{transform:scale(.95)}
    .r{display:none;margin-top:30px;animation:s .6s}.r.show{display:block}
    @keyframes s{from{opacity:0;transform:translateY(-30px)}}
    .b{background:linear-gradient(135deg,#d4bbff,#b28ffe);padding:22px;border-radius:22px;margin:15px 0;box-shadow:0 8px 25px rgba(139,61,255,.3)}
    .n{font-size:1.9em;font-weight:bold;color:#4a148c}
    .a{font-size:1.05em;color:#6a1b9a;margin:8px 0;word-break:break-all}
    .p{font-size:1.6em;color:#8b3dff;font-weight:bold}
    .t{background:linear-gradient(135deg,#7e57c2,#512da8);color:#fff;padding:25px;border-radius:22px;margin-top:25px;font-size:2.4em;font-weight:bold}
    .g{margin-top:25px;display:grid;gap:12px}
    .g button{font-size:1.1em;padding:16px;border-radius:18px}
    .g button:nth-child(3),.g button:nth-child(4){background:#512da8}
    .s{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1}
    .s div{position:absolute;width:7px;height:7px;background:#e0d9ff;border-radius:50%;opacity:0;animation:k 2.2s infinite}
    @keyframes k{50%{opacity:1;transform:scale(1)}}
  </style>
</head>
<body>
  <div class="s" id="s"></div>
  <div class="c">
    <h1>餐點即將封印解除</h1>
    <p style="margin:10px 0 0;font-size:1.1em;color:#bbb">讓魔法師幫你決定今天吃什麼</p>
    <div class="dice">Sparkles</div>
    <button onclick="go()">解除封印</button>

    <div class="r" id="r">
      <div class="b"><h3>午餐</h3>
        <div class="n" id="ln"></div>
        <div class="a" id="la"></div>
        <div class="p">$<span id="lp"></span></div>
      </div>
      <div class="b"><h3>飲料</h3>
        <div class="n" id="dn"></div>
        <div id="detail" style="color:#8b3dff;margin:10px 0;font-weight:bold"></div>
        <div class="a" id="da"></div>
        <div class="p">$<span id="dp"></span></div>
      </div>
      <div class="t">$<span id="total">0</span></div>
      <div class="g">
        <button onclick="copy()">複製結果</button>
        <button style="background:#fff;color:#8b3dff;border:3px solid #8b3dff" onclick="go()">再一次</button>
        <button onclick="nav(1)">導航午餐</button>
        <button onclick="nav(2)">導航飲料</button>
      </div>
    </div>
  </div>

<script>
// ==== 你的超完整清單全都在這裡！====
const food = [
  {name:"好口味",price:80,address:""},
  {name:"粥全",price:75,address:""},
  {name:"麵兒見",price:85,address:""},
  {name:"八方雲集",price:70,address:""},
  {name:"必勝客",price:150,address:""},
  {name:"麥當勞",price:120,address:""},
  {name:"肯德基",price:130,address:""},
  {name:"梁社漢便當",price:85,address:""},
  {name:"港口土魠魚羹",price:90,address:""},
  {name:"丹丹漢堡",price:85,address:""},
  {name:"玉禾田越南料理",price:100,address:""},
  {name:"元爵味黃燜雞",price:95,address:""},
  {name:"新市成功牛排",price:150,address:""},
  {name:"小平 正宗火雞肉飯",price:70,address:""},
  {name:"藝鍋物",price:200,address:""},
  {name:"九鼎林豐",price:120,address:""},
  {name:"大埔鐵板燒",price:150,address:""},
  {name:"漢堡王",price:120,address:""},
  {name:"達美樂",price:180,address:""},
  {name:"阿珠姨滷肉飯",price:60,address:""},
  {name:"八方緣",price:80,address:""},
  {name:"老泉城黃燜雞米飯（台南新市店）",price:95,address:""},
  {name:"皇聖食堂",price:85,address:"台南市新市區復興路27號"},
  {name:"麻小二",price:90,address:""},
  {name:"晨間廚房",price:100,address:""},
  {name:"拉亞漢堡",price:75,address:""},
  {name:"番茄村",price:85,address:""},
  {name:"弘爺漢堡",price:70,address:""},
  {name:"甲尚飽",price:80,address:""},
  {name:"日+早午餐",price:110,address:""},
  {name:"易百分肉蛋吐司",price:65,address:""},
  {name:"元氣早午餐",price:90,address:""},
  {name:"早安美之城",price:75,address:""},
  {name:"早安山丘",price:80,address:""},
  {name:"新化阿發排骨大王",price:85,address:"台南市新化區正新路238-1號"},
  {name:"半畝田",price:100,address:""},
  {name:"食光宴鐵板燒料理",price:150,address:"台南市善化區中山路245號"},
  {name:"善化嘉義正火雞肉飯",price:70,address:""},
  {name:"超悅涼麵",price:60,address:""},
  {name:"麵向八方",price:75,address:""},
  {name:"港口食堂",price:80,address:""},
  {name:"兒本餐廳",price:150,address:""},
  {name:"日日夜宵",price:100,address:""},
  {name:"C.F.B Bistro",price:150,address:""},
  {name:"Bistro L'arc 池畔餐酒館",price:200,address:""},
  {name:"鮨本味",price:200,address:""},
  {name:"永世王朝薑母鴨",price:100,address:""},
  {name:"小公園擔仔麵",price:60,address:"台南市中西區西門路二段321號"},
  {name:"葉家小卷米粉",price:70,address:"台南市中西區國華街三段142號"},
  {name:"一味品碗粿魚羹",price:80,address:"台南市中西區國華街三段177號"},
  {name:"醇涎坊古早味鍋燒意麵",price:50,address:""},
  {name:"陳家汕頭意麵",price:60,address:""},
  {name:"公園口紅燒土魠魚焿",price:90,address:""},
  {name:"竹記鴨肉",price:100,address:""},
  {name:"邱家小卷米粉",price:70,address:"台南市中西區國華街三段5號"},
  {name:"悅津鹹粥",price:50,address:""},
  {name:"阿霞飯店",price:120,address:""},
  {name:"老曾羊肉",price:150,address:""},
  {name:"夏慕尼新香榭鉄板燒",price:200,address:""},
  {name:"聚日式鍋物",price:250,address:""},
  {name:"勝博殿日式炸豬排",price:180,address:""},
  {name:"朵頤牛排",price:300,address:""},
  {name:"正宗媽煮妙小吃",price:70,address:""},
  {name:"橄饗家西班牙嚴選美食",price:150,address:""},
  {name:"大員皇冠假日酒店彩豐樓",price:400,address:""},
  {name:"阿松割包",price:60,address:"台南市中西區國華街三段181號"},
  {name:"七誠米粿",price:50,address:"台南市中西區民權路三段33號"},
  {name:"麵條王海產麵",price:80,address:"台南市中西區神農街6號"},
  {name:"林家白糖粿",price:40,address:"台南市中西區友愛街213號"}
];

const drink = [
  {name:"可不可",price:45,address:""},
  {name:"龜記",price:35,address:""},
  {name:"迷客夏",price:40,address:""},
  {name:"紅茶巴士",price:30,address:""},
  {name:"春芳號",price:40,address:""},
  {name:"萬波",price:45,address:""},
  {name:"青山",price:50,address:"台南市中西區民生路二段117號"},
  {name:"鶴茶樓",price:45,address:""},
  {name:"春宅",price:40,address:""},
  {name:"烏弄",price:45,address:""},
  {name:"五桐號",price:40,address:""},
  {name:"雙十八木",price:50,address:""},
  {name:"一沐日",price:45,address:""},
  {name:"得正",price:35,address:""},
  {name:"茶湯會",price:40,address:""},
  {name:"大茗",price:35,address:""},
  {name:"先喝道",price:40,address:""},
  {name:"水雲朵",price:45,address:""},
  {name:"老賴",price:35,address:""},
  {name:"Tea Top第一味",price:35,address:""},
  {name:"鮮茶道",price:35,address:""},
  {name:"角鋪",price:40,address:""},
  {name:"水巷茶弄",price:40,address:""},
  {name:"麻古",price:50,address:"台南市新市區中正路194號"},
  {name:"三分春色",price:45,address:""},
  {name:"慕春職人",price:45,address:""},
  {name:"米里米里",price:40,address:""},
  {name:"穆納",price:45,address:""},
  {name:"御私藏",price:40,address:""},
  {name:"coco都可",price:35,address:""},
  {name:"銀兩",price:45,address:""},
  {name:"幕和茶屋",price:50,address:""},
  {name:"Nanafru",price:55,address:""},
  {name:"紅太陽",price:30,address:""},
  {name:"白巷子",price:45,address:""},
  {name:"鮮自然",price:35,address:""},
  {name:"青山青茶",price:40,address:""},
  {name:"果優手搖飲",price:45,address:""}
];

const sugar = [];
const ice = [];

let cur=null;

// 背景星星動畫
for(let i=0;i<30;i++){
  let x=document.createElement('div');
  x.style.left=Math.random()*100+'%';
  x.style.top=Math.random()*100+'%';
  x.style.animationDelay=Math.random()*2+'s';
  document.getElementById('s').appendChild(x);
}

function go(){
  const l = food[Math.floor(Math.random()*food.length)];
  const d = drink[Math.floor(Math.random()*drink.length)];
  cur = {l, d, s:'', i:''};
  
  document.getElementById('ln').textContent = l.name;
  document.getElementById('la').textContent = l.address || '地址不詳';
  document.getElementById('lp').textContent = l.price;
  
  document.getElementById('dn').textContent = d.name;
  document.getElementById('detail').textContent = '';
  document.getElementById('da').textContent = d.address || '地址不詳';
  document.getElementById('dp').textContent = d.price;
  
  document.getElementById('total').textContent = (l.price + d.price);
  
  const r = document.getElementById('r');
  r.classList.remove('show');
  setTimeout(()=>r.classList.add('show'),10);
  
  document.querySelector('.dice').textContent = 'Sparkles';
}

function nav(t){
  const addr = t===1 ? cur.l.address : cur.d.address;
  if(addr && addr.trim()){
    window.open('https://maps.google.com/?q='+encodeURIComponent(addr));
  }else{
    alert('這家店還沒填地址，無法導航喔～');
  }
}

function copy(){
  const txt = `餐點即將封印解除 ✨\n\n午餐：${cur.l.name}\n${cur.l.address||'地址不詳'}\n$${cur.l.price}\n\n飲料：${cur.d.name}\n${cur.d.address||'地址不詳'}\n$${cur.d.price}\n\n總計：$${(cur.l.price+cur.d.price)}`;
  navigator.clipboard?.writeText(txt).then(()=>alert('已複製到剪貼簿！'))||((ta=document.createElement('textarea')).value=txt,document.body.appendChild(ta),ta.select(),document.execCommand('copy'),ta.remove(),alert('已複製！'));
}
</script>
</body>
</html>